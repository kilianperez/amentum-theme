// Admin styles for Amentum
// Solo se cargan en el editor de bloques de WordPress

// Importar variables y fuentes
@import "base/variables";

// Importar estilos principales del tema para tener acceso a body y variables globales
@import 'style';

// Estilos específicos para el editor de bloques
@at-root {
  // Reset margin para editor WordPress
  body.wp-core-ui,
  .editor-styles-wrapper,
  .block-editor-writing-flow {
    margin-top: 0 !important;
  }

  // Configuración general para bloques de WordPress
  :where(.wp-block) {
    max-width: 95% !important;
  }

  // Contenedor principal para previsualizaciones de bloques ACF
  .acf-block-preview {

    // ========================================
    // SOLUCIÓN ESPECÍFICA PARA CURSOR EN EDITOR
    // ========================================

    // El tema tiene cursor: default en body y cursor: none para no logueados
    // En el editor necesitamos sobrescribir esto completamente

    // 1. Resetear body del editor y administrador
    body {
      cursor: auto !important;
      overflow: visible !important;
    }

    // 2. Resetear cualquier regla de cursor: none que pueda aplicarse
    * {
      cursor: inherit !important;
    }

    // 3. Aplicar cursors específicos para elementos del editor
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="url"],
    input[type="tel"],
    textarea,
    [contenteditable="true"],
    [contenteditable],
    .wp-block-paragraph,
    .wp-block-heading,
    .editor-post-title__input,
    .block-editor-rich-text__editable {
      cursor: text !important;
    }

    // 4. Cursor pointer para elementos clickeables
    button,
    input[type="button"],
    input[type="submit"],
    input[type="reset"],
    input[type="checkbox"],
    input[type="radio"],
    [role="button"],
    .button,
    a,
    label {
      cursor: pointer !important;
    }

    // 5. Reset margin para writing flow
    .block-editor-writing-flow {
      margin: 0 !important;
    }

    // ========================================
    // MEJORAS ESPECÍFICAS PARA FORMULARIOS EN EDITOR
    // ========================================

    // Corregir márgenes y espaciado de formularios
    form {
      margin: 0 !important;
      padding: 0 !important;
      
      // Corregir espaciado entre campos
      .input-wrapper {
        margin-bottom: 2rem !important;
        border-bottom: solid 2px #060606 !important;
        
        &::after {
          height: 3px !important;
          background-color: #060606 !important;
        }
        
        &.input-filled::after,
        &:focus-within::after {
          transform: scaleX(1) !important;
          background-color: #060606 !important;
        }
      }
      
      // Inputs y textareas mejorados
      input[type="text"],
      input[type="email"],
      input[type="url"],
      input[type="tel"],
      input[type="password"],
      textarea,
      select {
        font-family: "Nuckle", sans-serif !important;
        font-size: max(16px, 1.2rem) !important; // Mínimo 16px para evitar zoom móvil
        padding: 1rem 0 !important;
        border: none !important;
        background: transparent !important;
        width: 100% !important;
        margin-bottom: 0 !important;
        
        &:focus {
          outline: none !important;
          box-shadow: none !important;
        }
        
        &::placeholder {
          font-family: "Nuckle", sans-serif !important;
          color: rgba(60, 60, 66, 0.6) !important;
          font-weight: 400 !important;
        }
      }
      
      // Fieldsets mejorados
      fieldset {
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        margin-bottom: 2rem !important;
        
        legend {
          font-family: "Helvetica Now", sans-serif !important;
          font-weight: 600 !important;
          color: #060606 !important;
          margin-bottom: 1rem !important;
        }
      }
    }

    // ========================================
    // CHECKBOXES CIRCULARES EXACTOS DEL TEMA
    // ========================================

    // Checkboxes individuales (.check) - copiando exactamente del tema
    .check {
      display: flex !important;
      // align-items: flex-start; // Evita stretch vertical
      @media screen and (min-width: 1024px) {
        align-items: center !important;
      }
      
      label {
        height: max-content !important;
        align-self: center !important;
      }
      
      input[type="checkbox"] {
        padding: 0 !important;
        appearance: none !important;
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        border: none !important;
        position: relative !important;
        width: 4.8vw !important; // 6vw * 0.8
        height: 4.8vw !important;
        min-width: 4.8vw !important;
        max-width: 4.8vw !important;
        min-height: 4.8vw !important;
        max-height: 4.8vw !important;
        margin: 0 !important;
        margin-right: 0.5rem !important;
        background: transparent !important;
        cursor: pointer !important;
        flex-shrink: 0 !important;

        @media screen and (min-width: 1024px) {
          width: 1.6vw !important; // 2vw * 0.8
          height: 1.6vw !important;
          min-width: 1.6vw !important;
          max-width: 1.6vw !important;
          min-height: 1.6vw !important;
          max-height: 1.6vw !important;
        }
        
        // Círculo exterior con borde
        &:before {
          content: '' !important;
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          width: 4.8vw !important;
          height: 4.8vw !important;
          min-width: 4.8vw !important;
          max-width: 4.8vw !important;
          min-height: 4.8vw !important;
          max-height: 4.8vw !important;
          border-radius: 50% !important;
          border: 2px solid black !important;
          box-sizing: border-box !important;
          background-color: white !important;
          
          @media screen and (min-width: 1024px) {
            width: 1.6vw !important; // 2vw * 0.8
            height: 1.6vw !important;
            min-width: 1.6vw !important;
            max-width: 1.6vw !important;
            min-height: 1.6vw !important;
            max-height: 1.6vw !important;
          }
        }
        
        // Estado checked - con checkmark SVG
        &:checked:after {
          content: "" !important;
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          width: 4.8vw !important;
          height: 4.8vw !important;
          min-width: 4.8vw !important;
          max-width: 4.8vw !important;
          min-height: 4.8vw !important;
          max-height: 4.8vw !important;
          border-radius: 50% !important;
          background-color: black !important;
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e") !important;
          background-position: center !important;
          background-size: 70% !important;
          background-repeat: no-repeat !important;
          
          @media screen and (min-width: 1024px) {
            width: 1.6vw !important; // 2vw * 0.8
            height: 1.6vw !important;
            min-width: 1.6vw !important;
            max-width: 1.6vw !important;
            min-height: 1.6vw !important;
            max-height: 1.6vw !important;
          }
        }
        
        // Focus
        &:focus {
          outline: none !important;
        }
        &:focus:before {
          box-shadow: 0 0 0 0.2rem rgba(0,0,0,.25) !important;
        }
      }
    }

    // Tags checkboxes (ul.ks-cboxtags) mejorados
    ul.ks-cboxtags {
      list-style: none !important;
      padding: 0 !important;
      margin: 0 !important;
      display: flex !important;
      flex-wrap: wrap !important;
      gap: 1rem !important;
      
      li {
        display: inline-block !important;
        margin: 0 !important;
        
        input[type="checkbox"] {
          display: none !important;
        }
        
        label {
          display: inline-block !important;
          padding: 0.8rem 1.5rem !important;
          border: 2px solid #3b3c42 !important;
          border-radius: 2rem !important;
          background: transparent !important;
          color: #060606 !important;
          font-family: "Nuckle", sans-serif !important;
          font-size: 1rem !important;
          font-weight: 500 !important;
          cursor: pointer !important;
          transition: all 0.3s ease !important;
          user-select: none !important;
          
          &:hover {
            border-color: #060606 !important;
            background-color: rgba(60, 60, 66, 0.05) !important;
          }
        }
        
        input[type="checkbox"]:checked + label {
          background-color: #060606 !important;
          border-color: #060606 !important;
          color: white !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 4px 12px rgba(60, 60, 66, 0.3) !important;
        }
        
        input[type="checkbox"]:focus + label {
          outline: none !important;
          box-shadow: 0 0 0 3px rgba(60, 60, 66, 0.2) !important;
        }
      }
    }

    // Mensajes de error mejorados
    .field-error-message {
      font-family: "Nuckle", sans-serif !important;
      font-size: 0.9rem !important;
      color: #ff4757 !important;
      margin-top: 0.5rem !important;
    }

    // Botones de formulario mejorados
    input[type="submit"],
    button[type="submit"],
    .btn-submit {
      font-family: "Nuckle", sans-serif !important;
      font-size: 1rem !important;
      font-weight: 600 !important;
      padding: 1rem 2rem !important;
      background-color: #060606 !important;
      color: white !important;
      border: 2px solid #060606 !important;
      border-radius: 0 !important;
      cursor: pointer !important;
      transition: all 0.3s ease !important;
      
      &:hover {
        background-color: transparent !important;
        color: #060606 !important;
        border-color: #060606 !important;
      }
      
      &:focus {
        outline: none !important;
        box-shadow: 0 0 0 3px rgba(60, 60, 66, 0.2) !important;
      }
    }

  } // Cierre de .acf-block-preview
} // Cierre de @at-root